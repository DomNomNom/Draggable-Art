<!DOCTYPE html>
<html>
<head>
    <title>G9</title>
</head>
<body class="full-space">
<style type="text/css">
html, body, .full-space svg{
    height: 100%;
    width: 100%;
    overflow: hidden;
}
body {
    background: #333;
    margin: 0;
}
/*.full-space {
    display: flex;
    align-items: stretch;
}*/
</style>

<!-- <div id="g9-container" class="full-space"></div> -->



<script src='https://cdnjs.cloudflare.com/ajax/libs/g9/1.0.16/g9.js'></script>
<script>
    // g9 is now defined


const initialData = {
    radius: 200,
    angle: 0
}

const sin = Math.sin;
const cos = Math.cos;
const PI = Math.PI;

function render(data, ctx){
    const point = (x,y, options={}) => {
        if (undefined === options.fill) options.fill = 'green';
        if (undefined === options.r) options.r = 10;

        ctx.point(x,y, options)
    };

    const sides = 10
    for (let i=0; i<sides; i++){
        const anglePerSide = 2*Math.PI / sides
        const a = data.angle + i*anglePerSide
        const r1 = data.radius
        point(r1 * Math.cos( a), r1 * Math.sin( a))

        const r2 = r1 + 70*sin(data.angle * sides);
        const a2 = -a + 0.5 * anglePerSide
        point(r2 * Math.cos(a2), r2 * Math.sin(a2), {fill: 'red'})

    }
}

g9(initialData, render)
    .align('center', 'center')
    .insertInto('body')

</script>

</body>
</html>

